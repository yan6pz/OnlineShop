@model IEnumerable<DAL.Product>

@{
    ViewBag.Title = "Show";
}

<h2>Show</h2>
  @if(bool.Parse(Session["IsAdmin"].ToString()))
            {
      <p>
             @Html.ActionLink("Create", "Create") 
          </p>
            }
<style>
    td {
        border:1px solid black;
        width:40px;
        text-align:center;
    }
</style>
<table>
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Color)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.UnitPrice)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Size)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Weight)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.IsDiscounted)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.SubcategoryID)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Image)
        </th>
    </tr>

@foreach (var item in Model) {

    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Name)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Color)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.UnitPrice)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Size)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Weight)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.IsDiscounted)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.SubcategoryID)
        </td>

        <td>
                @{
          if(item.ImageProduct!=null)
          {
            var base64 = Convert.ToBase64String(item.ImageProduct );
              var imgSrc = String.Format("data:image/gif;base64,{0}", base64);
              <img src="@imgSrc" />
          }
}
              
        </td>
        <td>
            
           
            @Html.ActionLink("Buy", "CreateOrder", new { id=item.ProductID }) 
            @if (bool.Parse(Session["IsAdmin"].ToString()))
            {
             @Html.ActionLink("Edit", "Edit", new { id=item.ProductID }) 
             @Html.ActionLink("Delete", "Delete", new { id=item.ProductID })
            }
        </td>
    </tr>
}

</table>
